<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="GHelper.Linux.UI.Views.MainWindow"
        Title="G-Helper"
        Width="462"
        Height="860"
        MinWidth="380"
        MinHeight="500"
        WindowStartupLocation="CenterScreen"
        CanResize="True"
        ExtendClientAreaToDecorationsHint="False"
        SystemDecorations="Full"
        Background="#1C1C1C"
        Icon="avares://ghelper/UI/Assets/favicon.ico">

    <Window.Styles>
        <!-- Active button gets accent border (perf, GPU, screen modes) -->
        <Style Selector="Button.mode-active">
            <Setter Property="BorderBrush" Value="#4CC2FF" />
            <Setter Property="BorderThickness" Value="2" />
        </Style>
    </Window.Styles>

    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Disabled">

        <StackPanel Margin="11,8,11,8" Spacing="0">

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PERFORMANCE SECTION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Classes="panel">
                <StackPanel>
                    <!-- Title row: icon + label left, sensor info right -->
                    <Grid ColumnDefinitions="Auto,*,Auto" Margin="2,0,2,8">
                        <TextBlock Grid.Column="0" Text="âš¡" FontSize="16"
                                   VerticalAlignment="Center" Margin="0,0,8,0" />
                        <TextBlock Grid.Column="1" x:Name="labelPerf" Classes="header"
                                   Text="Mode: Balanced" VerticalAlignment="Center" />
                        <TextBlock Grid.Column="2" x:Name="labelCPUFan" Classes="label-dim"
                                   Text="CPU: -- Â°C  Fan: 0RPM" VerticalAlignment="Center" />
                    </Grid>

                    <!-- Performance mode buttons â€” equal width, tall, icon above text -->
                    <UniformGrid Rows="1" Columns="4" Margin="0,0">
                        <Button x:Name="buttonSilent" Classes="ghelper-tall"
                                Margin="0,0,3,0" Click="ButtonSilent_Click">
                            <StackPanel HorizontalAlignment="Center" Spacing="4">
                                <TextBlock Text="ðŸƒ" HorizontalAlignment="Center" FontSize="22" />
                                <TextBlock Text="Silent" HorizontalAlignment="Center" FontSize="11" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="buttonBalanced" Classes="ghelper-tall"
                                Margin="3,0" Click="ButtonBalanced_Click">
                            <StackPanel HorizontalAlignment="Center" Spacing="4">
                                <TextBlock Text="âš–ï¸" HorizontalAlignment="Center" FontSize="22" />
                                <TextBlock Text="Balanced" HorizontalAlignment="Center" FontSize="11" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="buttonTurbo" Classes="ghelper-tall"
                                Margin="3,0" Click="ButtonTurbo_Click">
                            <StackPanel HorizontalAlignment="Center" Spacing="4">
                                <TextBlock Text="ðŸš€" HorizontalAlignment="Center" FontSize="22" />
                                <TextBlock Text="Turbo" HorizontalAlignment="Center" FontSize="11" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="buttonFans" Classes="ghelper-tall"
                                Margin="3,0,0,0" Click="ButtonFans_Click">
                            <StackPanel HorizontalAlignment="Center" Spacing="4">
                                <TextBlock Text="ðŸŒ€" HorizontalAlignment="Center" FontSize="22" />
                                <TextBlock Text="Fans + Power" HorizontalAlignment="Center" FontSize="11" />
                            </StackPanel>
                        </Button>
                    </UniformGrid>
                </StackPanel>
            </Border>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• GPU SECTION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Classes="panel">
                <StackPanel>
                    <Grid ColumnDefinitions="Auto,*,Auto" Margin="2,0,2,8">
                        <TextBlock Grid.Column="0" Text="ðŸŽ®" FontSize="16"
                                   VerticalAlignment="Center" Margin="0,0,8,0" />
                        <TextBlock Grid.Column="1" x:Name="labelGPU" Classes="header"
                                   Text="GPU Mode: Standard" VerticalAlignment="Center" />
                        <TextBlock Grid.Column="2" x:Name="labelGPUFan" Classes="label-dim"
                                   Text="GPU Fan: 0RPM" VerticalAlignment="Center" />
                    </Grid>

                    <!-- GPU mode buttons â€” equal width, tall, icon above text -->
                    <UniformGrid Rows="1" Columns="3" Margin="0,0">
                        <Button x:Name="buttonEco" Classes="ghelper-tall"
                                Margin="0,0,3,0" Click="ButtonEco_Click">
                            <StackPanel HorizontalAlignment="Center" Spacing="4">
                                <TextBlock Text="ðŸŒ¿" HorizontalAlignment="Center" FontSize="22" />
                                <TextBlock Text="Eco" HorizontalAlignment="Center" FontSize="11" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="buttonStandard" Classes="ghelper-tall"
                                Margin="3,0" Click="ButtonStandard_Click">
                            <StackPanel HorizontalAlignment="Center" Spacing="4">
                                <TextBlock Text="ðŸ–¥ï¸" HorizontalAlignment="Center" FontSize="22" />
                                <TextBlock Text="Standard" HorizontalAlignment="Center" FontSize="11" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="buttonOptimized" Classes="ghelper-tall"
                                Margin="3,0,0,0" Click="ButtonOptimized_Click">
                            <StackPanel HorizontalAlignment="Center" Spacing="4">
                                <TextBlock Text="âœ¨" HorizontalAlignment="Center" FontSize="22" />
                                <TextBlock Text="Optimized" HorizontalAlignment="Center" FontSize="11" />
                            </StackPanel>
                        </Button>
                    </UniformGrid>

                    <TextBlock x:Name="labelTipGPU" Classes="label-dim"
                               Text="" Margin="2,6,2,0" TextWrapping="Wrap" />
                </StackPanel>
            </Border>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCREEN SECTION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Classes="panel">
                <StackPanel>
                    <Grid ColumnDefinitions="Auto,*,Auto" Margin="2,0,2,8">
                        <TextBlock Grid.Column="0" Text="ðŸ–¥" FontSize="16"
                                   VerticalAlignment="Center" Margin="0,0,8,0" />
                        <TextBlock Grid.Column="1" x:Name="labelScreen" Classes="header"
                                   Text="Laptop Screen: 60Hz" VerticalAlignment="Center" />
                        <TextBlock Grid.Column="2" x:Name="labelMidFan" Classes="label-dim"
                                   Text="" VerticalAlignment="Center" />
                    </Grid>

                    <!-- Screen buttons â€” equal width -->
                    <UniformGrid Rows="1" Columns="3" Margin="0,0">
                        <Button x:Name="buttonScreenAuto" Classes="ghelper"
                                Margin="0,0,3,0" Click="ButtonScreenAuto_Click"
                                Height="36">
                            <TextBlock Text="Auto" HorizontalAlignment="Center" FontSize="11" />
                        </Button>
                        <Button x:Name="button60Hz" Classes="ghelper"
                                Margin="3,0" Click="Button60Hz_Click"
                                Height="36">
                            <TextBlock Text="60Hz" HorizontalAlignment="Center" FontSize="11" />
                        </Button>
                        <Button x:Name="button120Hz" Classes="ghelper"
                                Margin="3,0,0,0" Click="Button120Hz_Click"
                                Height="36">
                            <TextBlock x:Name="labelHighRefresh" Text="120Hz"
                                       HorizontalAlignment="Center" FontSize="11" />
                        </Button>
                    </UniformGrid>
                    <!-- MiniLED button â€” only visible on supported models -->
                    <Button x:Name="buttonMiniled" Classes="ghelper"
                            Margin="0,4,0,0" Click="ButtonMiniled_Click"
                            Height="36" IsVisible="False">
                        <TextBlock Text="MiniLED" HorizontalAlignment="Center" FontSize="11" />
                    </Button>
                </StackPanel>
            </Border>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• KEYBOARD SECTION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Classes="panel">
                <StackPanel>
                    <Grid ColumnDefinitions="Auto,*,Auto" Margin="2,0,2,8">
                        <TextBlock Grid.Column="0" Text="âŒ¨ï¸" FontSize="16"
                                   VerticalAlignment="Center" Margin="0,0,8,0" />
                        <TextBlock Grid.Column="1" x:Name="labelKeyboard" Classes="header"
                                   Text="Laptop Keyboard" VerticalAlignment="Center" />
                        <TextBlock Grid.Column="2" x:Name="labelBacklight" Classes="label-dim"
                                   Text="" VerticalAlignment="Center" />
                    </Grid>

                    <!-- Row 1: Backlight cycle + Extra settings -->
                    <UniformGrid Rows="1" Columns="2" Margin="0,0,0,4">
                        <Button x:Name="buttonKeyboard" Classes="ghelper"
                                Margin="0,0,3,0" Click="ButtonKeyboard_Click"
                                Height="36">
                            <TextBlock Text="Backlight" HorizontalAlignment="Center" FontSize="11" />
                        </Button>
                        <Button x:Name="buttonExtra" Classes="ghelper"
                                Margin="3,0,0,0" Click="ButtonExtra_Click"
                                Height="36">
                            <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                                <TextBlock Text="âš™" FontSize="13" VerticalAlignment="Center" />
                                <TextBlock Text="Extra" FontSize="11" VerticalAlignment="Center" />
                            </StackPanel>
                        </Button>
                    </UniformGrid>

                    <!-- Row 2: AURA Mode + Speed + Color1 + Color2 -->
                    <Grid ColumnDefinitions="*,90,44,44" Margin="0,0" x:Name="panelAura">
                        <ComboBox x:Name="comboAuraMode" Grid.Column="0"
                                  Height="36" Margin="0,0,4,0"
                                  HorizontalAlignment="Stretch"
                                  MaxDropDownHeight="300"
                                  SelectionChanged="ComboAuraMode_Changed" />
                        <ComboBox x:Name="comboAuraSpeed" Grid.Column="1"
                                  Height="36" Margin="2,0"
                                  HorizontalAlignment="Stretch"
                                  MaxDropDownHeight="200"
                                  SelectionChanged="ComboAuraSpeed_Changed" />
                        <Button x:Name="buttonColor1" Grid.Column="2"
                                Height="36" Width="36" Margin="2,0"
                                Click="ButtonColor1_Click"
                                ToolTip.Tip="Primary color"
                                Background="#FFFFFF"
                                CornerRadius="5" />
                        <Button x:Name="buttonColor2" Grid.Column="3"
                                Height="36" Width="36" Margin="2,0,0,0"
                                Click="ButtonColor2_Click"
                                ToolTip.Tip="Secondary color"
                                Background="#000000"
                                IsVisible="False"
                                CornerRadius="5" />
                    </Grid>
                </StackPanel>
            </Border>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• BATTERY SECTION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Classes="panel">
                <StackPanel>
                    <Grid ColumnDefinitions="Auto,*,Auto" Margin="2,0,2,4">
                        <TextBlock Grid.Column="0" Text="ðŸ”‹" FontSize="16"
                                   VerticalAlignment="Center" Margin="0,0,8,0" />
                        <TextBlock Grid.Column="1" x:Name="labelBattery" Classes="header"
                                   Text="Battery Charge Limit: 100%"
                                   VerticalAlignment="Center" />
                        <TextBlock Grid.Column="2" x:Name="labelCharge" Classes="label-dim"
                                   Text="" VerticalAlignment="Center" />
                    </Grid>

                    <!-- Battery charge limit slider -->
                    <Grid ColumnDefinitions="*,50" Margin="2,0,2,4">
                        <Slider x:Name="sliderBattery" Grid.Column="0"
                                Minimum="40" Maximum="100"
                                Value="100"
                                TickFrequency="10"
                                IsSnapToTickEnabled="False"
                                ValueChanged="SliderBattery_ValueChanged" />
                        <TextBlock x:Name="labelBatteryLimit" Grid.Column="1"
                                   Classes="value" Text="100%"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center" />
                    </Grid>

                    <!-- Quick presets -->
                    <UniformGrid Rows="1" Columns="3" Margin="0,0">
                        <Button x:Name="buttonBattery60" Classes="ghelper"
                                Margin="0,0,3,0" Click="ButtonBattery60_Click"
                                Height="32">
                            <TextBlock Text="60%" HorizontalAlignment="Center" FontSize="11" />
                        </Button>
                        <Button x:Name="buttonBattery80" Classes="ghelper"
                                Margin="3,0" Click="ButtonBattery80_Click"
                                Height="32">
                            <TextBlock Text="80%" HorizontalAlignment="Center" FontSize="11" />
                        </Button>
                        <Button x:Name="buttonBattery100" Classes="ghelper"
                                Margin="3,0,0,0" Click="ButtonBattery100_Click"
                                Height="32">
                            <TextBlock Text="100%" HorizontalAlignment="Center" FontSize="11" />
                        </Button>
                    </UniformGrid>
                </StackPanel>
            </Border>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• FOOTER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Classes="panel" Margin="3,4,3,3">
                <StackPanel Spacing="6">
                    <!-- Run on Startup + Charge info -->
                    <Grid ColumnDefinitions="*,Auto">
                        <CheckBox Grid.Column="0" x:Name="checkStartup" Content="Run on Startup"
                                  Checked="CheckStartup_Changed"
                                  Unchecked="CheckStartup_Changed" />
                        <TextBlock Grid.Column="1" x:Name="labelChargeFooter" Classes="label-dim"
                                   Text="" VerticalAlignment="Center" />
                    </Grid>
                    <!-- Version + Updates + Quit -->
                    <Grid ColumnDefinitions="*,Auto,Auto">
                        <TextBlock Grid.Column="0" x:Name="labelVersion" Classes="label-dim"
                                   Text="G-Helper Linux v1.0.0" VerticalAlignment="Center"
                                   FontSize="12" />
                        <Button Grid.Column="1" x:Name="buttonUpdates" Classes="ghelper"
                                Margin="0,0,4,0" Height="32"
                                Click="ButtonUpdates_Click">
                            <StackPanel Orientation="Horizontal" Spacing="4">
                                <TextBlock Text="ðŸ“¦" FontSize="12" VerticalAlignment="Center" />
                                <TextBlock Text="Updates" FontSize="11" VerticalAlignment="Center" />
                            </StackPanel>
                        </Button>
                        <Button Grid.Column="2" x:Name="buttonQuit" Classes="ghelper"
                                Height="32"
                                Click="ButtonQuit_Click">
                            <StackPanel Orientation="Horizontal" Spacing="4">
                                <TextBlock Text="â»" FontSize="12" VerticalAlignment="Center" />
                                <TextBlock Text="Quit" FontSize="11" VerticalAlignment="Center" />
                            </StackPanel>
                        </Button>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Hidden labels kept for code-behind compatibility -->
            <TextBlock x:Name="labelPerfMode" IsVisible="False" Text="" />
            <TextBlock x:Name="labelGPUMode" IsVisible="False" Text="" />
            <TextBlock x:Name="labelScreenHz" IsVisible="False" Text="" />
            <TextBlock x:Name="labelBatteryTitle" IsVisible="False" Text="" />

        </StackPanel>
    </ScrollViewer>

</Window>
